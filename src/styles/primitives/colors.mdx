import { Meta } from '@storybook/blocks';
import classNames from 'classnames';
import { useEffect, useState } from 'react';
import { getAvailableColors } from '../../utils/tw';

<Meta title="Design Tokens/Primitive/Colors" />

export const ColorSwatch = ({ colorGroupName }) => {
    const [availableColors, setAvailableColors] = useState([]);

    useEffect(() => {
        const colors = getAvailableColors(colorGroupName);
        setAvailableColors(colors);
    }, [colorGroupName]);

    return (
        <div className="rounded-xl border bg-neutral-0 p-8 text-neutral-800">
            <div className="pb-8 text-xl capitalize font-semibold">{colorGroupName}</div>
            <div className="flex flex-col gap-y-6">
                <div className="flex flex-row items-center gap-x-10">
                    <span className="w-24">Swatch</span>
                    <span>Hex</span>
                </div>
                {availableColors.map(({ shade, value }) => {
                    const textClassNames = classNames({'text-neutral-0': shade > 300});

                    return (
                        <div key={shade} className="flex items-center gap-x-10">
                            <div
                                className="flex h-24 w-24 items-center justify-center rounded-xl"
                                style={{ background: `var(--ods-color-${colorGroupName}-${shade})` }}
                            >
                                <span className={textClassNames}>{shade}</span>
                            </div>
                            <span>{value}</span>
                        </div>
                    );
                })}
            </div>
        </div>
    );

};

# Colors

<div className="flex gap-x-20 pb-20 pt-5">
    <ColorSwatch colorGroupName="primary" />
    <ColorSwatch colorGroupName="neutral" />
</div>

## Support

<div className="flex justify-evenly gap-x-20 pt-5">
    <ColorSwatch colorGroupName="info" />
    <ColorSwatch colorGroupName="success" />
    <ColorSwatch colorGroupName="warning" />
    <ColorSwatch colorGroupName="critical" />
</div>
